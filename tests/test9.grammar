%token id literal
%%

tokenizer_and_grammar : tokenizer '%%' grammar
		      ;

tokenizer : token_line_list
	  ;

token_line_list : token_line
		| token_line token_line_list
		;

token_line : '%token' token_list
	   | '%start' id
	   ;

token_list : id
	   | id token_list
	   ;

grammar : production_list
	;

production_list : production
		| production production_list
		;

production : id ':' body_list ';'
	   ;

body_list : body
	  | body '|' body_list
	  |
	  ;

body : symbol_list
     ;

symbol_list : symbol
	    | symbol symbol_list
	    ;

symbol : id
       | literal
       | '{' '}'
       ;
